<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>Calentito, an esp32-based temperature sensor</title>
        <link rel="stylesheet" href="https://mesarpe.github.io/theme/css/main.css" />
        <link href="https://mesarpe.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="cbernardini' blog Atom Feed" />
        <meta name="description" content="Calentito is a simple project to create an ESP32-wroom-32 based temperature sensor. The sensor will report over bluetooth the temperature using a..." />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://mesarpe.github.io/">cbernardini' blog</a></h1>
                <nav><ul>
                    <li class="active"><a href="https://mesarpe.github.io/category/electronics-embeeded-bluetooth.html">electronics, embeeded, bluetooth</a></li>
                    <li><a href="https://mesarpe.github.io/category/misc.html">misc</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="https://mesarpe.github.io/calentito-an-esp32-based-temperature-sensor.html" rel="bookmark"
           title="Permalink to Calentito, an esp32-based temperature sensor">Calentito, an esp32-based temperature sensor</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2023-12-30T00:00:00+01:00">
                Published: sam. 30 d√©cembre 2023
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://mesarpe.github.io/author/cbernardini.html">cbernardini</a>
        </address>
<p>In <a href="https://mesarpe.github.io/category/electronics-embeeded-bluetooth.html">electronics, embeeded, bluetooth</a>.</p>
<p>tags: <a href="https://mesarpe.github.io/tag/esp32.html">esp32</a> <a href="https://mesarpe.github.io/tag/bluetooth.html">bluetooth</a> </p>
</footer><!-- /.post-info -->      <p>Calentito is a simple project to create an ESP32-wroom-32 based temperature sensor. The sensor will report over bluetooth the temperature using a DHT11 sensor.</p>
<p>The main goal of this project is at showing that we can make a usable product at all the levels: (1) Hardware-level connect; (2) Software-level; (3) Build a case.</p>
<h2>Hardware: part #1 connecting the Temperature Sensor to the Dev Board</h2>
<h4>Components</h4>
<table>
<thead>
<tr>
<th style="text-align: center;">Quantity</th>
<th style="text-align: center;">Component</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: center;">DHT11</td>
</tr>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: center;">esp32-wroom-32</td>
</tr>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: center;">resistor 10 KOhm</td>
</tr>
</tbody>
</table>
<h4>Connection</h4>
<p><img alt="Connection Diagram for ESP32 and DHT11" src="https://mesarpe.github.io/images/connect_dht11_esp32.png"></p>
<p>Basic Bluetooth connection.</p>
<p>Creating personalized attributes to report the temperature.</p>
<h2>Software: Part #1, the tooling</h2>
<p>As we have decided to use an ESP32, the easiest manner to flash software on it is by using the <a href="https://github.com/espressif/esp-idf">ESP-IDF</a> toolsuite. It includes a compiler, serial port reader, debugger and more.</p>
<p>Please follow first the instructions to install it with its Visual Code instruction.</p>
<p>To use it, simply use the following commands:</p>
<div class="highlight"><pre><span></span><code><span class="n">cd</span><span class="w"> </span><span class="o">~/</span><span class="n">Programs</span>
<span class="n">cd</span><span class="w"> </span><span class="n">esp</span><span class="o">-</span><span class="n">idf</span><span class="o">-</span><span class="n">v5</span><span class="o">.</span><span class="mf">1.1</span>
<span class="n">source</span><span class="w"> </span><span class="k">export</span><span class="o">.</span><span class="n">sh</span>
</code></pre></div>

<p>Now, let us focus in our projects:</p>
<div class="highlight"><pre><span></span><code>cd 04_bluetooth
code .
</code></pre></div>

<p>With control shift P, we can compile and monitor the code.</p>
<blockquote>
<p>If we use a USB cable of bad quality, we might suffer issues to use the serial port. Sudden disconnection or failing to connect.</p>
</blockquote>
<h2>Hardware: Part #2 Using with batteries</h2>
<p>First try, using a LiFePo 18650 battery of 3.2v and 1800mAh.</p>
<p>The connection is very easy from the ground of the board to the ground of the device and the 3.3v directly to the battery.</p>
<p>This type of battery (LiFePo) has a discharge rate that is almost constant -- at difference of other batteries --, for instance, the battery is capable of providing ~3.2v for a very long time.</p>
<p>Connections:</p>
<ul>
<li>GROUND ESp32 -&gt; negative of te battery</li>
<li>3.3v ESP32 -&gt; positive of the battery</li>
</ul>
<h2>Case: Part #4</h2>
<p>The last part of the project consists in creating an enclosure for the project.</p>
<ul>
<li><img alt="Case picture #1" src="https://mesarpe.github.io/images/calentito-case-01.png"></li>
<li><img alt="Case picture #2" src="https://mesarpe.github.io/images/calentito-case-02.png"></li>
</ul>
<p>The case and the soldering went straigtforward. Everything worked for 5 hours.</p>
<p>We have proved our point, it is possible to build a product to measure temperature by just using my bare-hands and knowledge.</p>
<p>Very happy about it!</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://mesarpe.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>